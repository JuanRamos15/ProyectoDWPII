{{> navbarUser}}
<!-- Termina marcado de barra de navegación -->
<h1>Listado de Libros</h1>
<!-- Formulario de búsqueda -->
<form action="/user/listBooks" method="GET" style="display: flex; gap: 10px;">
  <input type="text" name="query" placeholder="Buscar libros por Titulo o Autor o Categoria..." style="padding: 10px; flex-grow: 1;">
  <button type="submit" style="padding: 10px 20px; background-color: #007BFF; color: white; border: none; cursor: pointer;">Buscar</button>
</form>
<div class="row">
  {{#each books}}
    <div class="col s12 m6 l4">
      <div class="card horizontal">
        <div class="card-stacked">
          <div class="card-content">
            <span class="card-title">{{bookTitle}}</span>
            <p>Autor: {{bookAuthor}}</p>
            <p>Categoría: {{bookCategory}}</p>
            <p>ISBN: {{bookISBN}}</p>
            <p>Copias disponibles: {{bookQuantity}}</p>
          </div>
          <div class="card-action">
            <form action="/user/loan" method="POST">
              <input type="hidden" name="id" value="{{_id}}">
              <button type="submit">
                <i class="material-icons" style="display: inline-flex; vertical-align: sub;">get_app</i>
                Pedir prestado
              </button>
            </form>
            <a href="/root/reserve/{{_id}}" class="inline">
              <i class="material-icons" 
                style = "display: inline-flex; vertical-align: sub;">
                event</i>
              Reservar
            </a>
          </div>
        </div>
      </div>
    </div>
  {{else}}
    <p>No hay libros que listar.</p>
  {{/each}}
</div>